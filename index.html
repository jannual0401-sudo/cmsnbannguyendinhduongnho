<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Món Quà Kỷ Niệm - Sinh Nhật Vui Vẻ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;500;700&display=swap" rel="stylesheet">
<style>
:root {
--primary-color: #FF69B4;
--secondary-color: #FFC0CB;
--background-color: #FFF5EE;
--text-color: #4A4A4A;
}
html {
box-sizing: border-box;
}
*, *:before, :after {
box-sizing: inherit;
}
body {
font-family: 'Quicksand', sans-serif; background-color: var(--background-color);
color: var(--text-color); margin: 0; padding: 15px; display: flex;
justify-content: center; align-items: center; min-height: 100vh; overflow: hidden;
transition: background-color 1s ease; text-align: center;
}
.hidden { display: none !important; }
.modal {
position: fixed; top: 0; left: 0; width: 100%; height: 100%;
background: rgba(0, 0, 0, 0.6); display: flex; justify-content: center;
align-items: center; z-index: 1000; opacity: 0; visibility: hidden;
transition: opacity 0.5s ease, visibility 0.5s ease;
}
.modal.show { opacity: 1; visibility: visible; }
.modal-content {
background: #FFFFFF; padding: 25px 30px; border-radius: 20px;
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
max-width: 90%; width: 450px; transform: scale(0.9);
transition: transform 0.4s ease;
}
.modal.show .modal-content { transform: scale(1); }
button {
background: var(--primary-color); color: white; border: none; padding: 12px 24px;
border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold;
font-family: 'Quicksand', sans-serif; transition: background 0.3s ease, transform 0.2s ease;
}
button:hover { background: #FF1493; transform: translateY(-3px) scale(1.05); }
#lock-screen { width: 100%; }
.heart-lock { position: relative; width: 300px; height: 270px; margin: 20px auto; }
.heart { fill: var(--secondary-color); stroke: var(--primary-color); stroke-width: 3; animation: pulse 1.5s infinite ease-in-out; }
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.03); } }
.digits { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: flex; gap: 10px; }
.digit-container { display: flex; flex-direction: column; align-items: center; }
.digit {
background: #FFFFFF; border: 2px solid var(--primary-color); border-radius: 8px;
width: 30px; height: 40px; display: flex; align-items: center;
justify-content: center; font-weight: bold; font-size: 18px; margin: 3px 0;
}
.arrow-btn { background: transparent; color: var(--primary-color); border: none; padding: 3px; font-size: 16px; cursor: pointer; }
#hint { margin-top: 20px; font-size: 14px; color: var(--primary-color); cursor: pointer; font-weight: bold; }
#welcome { opacity: 0; transition: opacity 1s ease; width: 100%; display: flex; justify-content: center; align-items: center; flex-direction: column; }
#welcome.show { opacity: 1; }
.welcome-text { font-size: 2em; font-family: 'Pacifico', cursive; color: var(--primary-color); text-shadow: 0 2px 4px rgba(0,0,0,0.1); animation: fadeIn-Up 1.5s ease-out forwards; }
.welcome-text p { margin: 5px 0; font-family: 'Quicksand', sans-serif; font-size: 0.6em; font-weight: 500; color: #555; }
@keyframes fadeIn-Up { 0% { opacity: 0; transform: translateY(20px); } 100% { opacity: 1; transform: translateY(0); } }
#energy-bar { position: fixed; top: 10px; right: 10px; width: 100px; height: 10px; background: #F0F0F0; border-radius: 5px; overflow: hidden; box-shadow: 0 1px 2px rgba(0,0,0,0.1); z-index: 1000; }
.bar { height: 100%; background: linear-gradient(to right, #76E071, #38A333); transition: width 1s ease, background-color 1s ease; }
.bar.flashing { animation: flash 1s infinite; }
@keyframes flash { 0%, 100% { background: #ff4d4d; } 50% { background: #ffb3b3; } }
#avatar-container { position: fixed; top: 10px; left: 10px; z-index: 1000; }
#avatar { width: 30px; height: 30px; background-image: url('images/anh_dai_dien.jpg'); background-size: cover; border-radius: 50%; cursor: pointer; border: 2px solid var(--secondary-color); }
.arrow-hint { position: absolute; top: -5px; left: 40px; background: white; padding: 3px 6px; border-radius: 5px; box-shadow: 0 1px 2px rgba(0,0,0,0.2); white-space: nowrap; animation: fadeIn-Up 1s 2s ease-out forwards; opacity:0; font-size: 0.8em; }
#tram1 { width: 90%; max-width: 400px; margin: 20px auto; }
#announce-container { margin-bottom: 15px; }
#announce { font-size: 1.8em; font-family: 'Pacifico', cursive; color: var(--primary-color); }
.newspapers { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden; z-index: 10; }
.newspaper { position: absolute; width: 60%; min-width: 200px; background: #fdf5e6; border: 1px solid #ccc; padding: 8px; font-family: 'Times New Roman', Times, serif; box-shadow: 3px 3px 10px rgba(0,0,0,0.2); animation: flyIn3D 2.5s cubic-bezier(0.25, 1, 0.5, 1) forwards; }
.newspaper.style-2 { background: #e6f7ff; border-color: #91d5ff; }
.newspaper.style-3 { background: #f0fff0; border-color: #a9d18e; }
.newspaper.style-4 { background: #faedcd; border-color: #e3b505; }
@keyframes flyIn3D { from { opacity: 0; transform: perspective(800px) translateX(var(--x-start)) translateY(var(--y-start)) rotateY(60deg) scale(0.7); } to { opacity: 1; transform: perspective(800px) translateX(var(--x-end)) translateY(var(--y-end)) rotateY(0deg) rotateZ(var(--rotation)) scale(1); } }
#newspaper-wall { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--background-color); z-index: 998; display: flex; flex-direction: column; justify-content: center; align-items: center; }
#newspaper-wall h2 { color: var(--primary-color); font-family: 'Pacifico', cursive; }
#main-tram1-content { position: relative; overflow: hidden; border-radius: 10px; } / Container cho ảnh và comment */
#comment-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
.fan-comment {
position: absolute; background: rgba(0, 0, 0, 0.6); color: white; padding: 5px 10px; border-radius: 15px; display: flex; align-items: center; gap: 8px;
font-size: 0.8em; animation: comment-float 4s linear forwards;
opacity: 0; white-space: nowrap;
}
@keyframes comment-float {
0% { opacity: 0; transform: translateY(110%); }
10%, 20% { opacity: 1; }
90% { opacity: 1; transform: translateY(-10%); }
100% { opacity: 0; transform: translateY(-20%); }
}
.fan-comment .avatar { font-size: 1.2em; }
#main-tram1 img { max-width: 100%; display: block; }
#music-player { width: 100%; margin-top: 10px;}
.like-container { margin-top: 10px; font-size: 1em; font-weight: bold; position: relative; min-height: 50px; }
#like-count { color: var(--primary-color); font-size: 1.2em; }
.flying-heart { position: absolute; bottom: 0; left: 50%; font-size: 18px; pointer-events: none; animation: floatHeart 1.5s ease-out forwards; }
@keyframes floatHeart { from { opacity: 1; transform: translateY(0) translateX(-50%) scale(1) rotate(0); } to { opacity: 0; transform: translateY(-100px) translateX(calc(-50% + var(--x-end))) scale(0.5) rotate(var(--rot-end)); } }
#memories { width: 90%; max-width: 400px; margin: 20px auto; }
.cat { font-size: 2.5em; text-align: center; font-family: 'Pacifico', cursive; color: var(--primary-color); margin-bottom: 15px; }
.clouds { position: relative; width: 100%; height: auto; display: flex; flex-direction: row; flex-wrap: wrap; justify-content: space-around; align-items: center; gap: 15px; }
.cloud { position: relative !important; width: 45%; min-width: 100px; height: auto; aspect-ratio: 2 / 1.2; background: #fff; border-radius: 50px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.5s ease; animation: float 5s infinite ease-in-out; }
.cloud:before, .cloud:after { content: ''; position: absolute; background: #fff; border-radius: 50%; }
.cloud:before { width: 60%; height: 100%; top: -20%; left: 15%; }
.cloud:after { width: 40%; height: 60%; top: -10%; right: 15%; }
.cloud:hover { transform: scale(1.05) translateY(-5px); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15); }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
#photo-viewer .modal-content { padding: 15px; }
#photo-viewer img { max-width: 95%; max-height: 70vh; border-radius: 8px; }
#tram4 { width: 90%; max-width: 400px; margin: 20px auto; }
.dim-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 500; opacity: 0; pointer-events: none; transition: opacity 0.5s ease; }
.dim-overlay.dim { opacity: 1; pointer-events: all; }
#game-section { position: relative; z-index: 501; }
#game-canvas { border: 2px solid var(--primary-color); background: #FFF0F5; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); cursor: none; width: 100% !important; height: auto !important; aspect-ratio: 5 / 4; display: block; margin: 0 auto; }
#game-info { color: white; font-size: 1em; margin-bottom: 8px; }
#summon-assistant-btn { margin-top: 10px; background-color: #4ab3ff; padding: 8px 16px; font-size: 0.9em; }
#summon-assistant-btn:hover { background-color: #0088ff; }
#open-gift { margin-top: 10px; padding: 10px 20px; font-size: 1em; }
#phase3 { width: 90%; max-width: 400px; margin: 20px auto; }
#treasure { text-align: center; }
.chest-container { perspective: 800px; margin-bottom: 20px; display: inline-block; }
.chest { width: 150px; height: 120px; background: linear-gradient(#DAA520, #FFD700); border-radius: 8px; position: relative; transform-style: preserve-3d; transition: transform 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); cursor: pointer; }
.chest:before { content: ''; position: absolute; top: -8px; left: 10%; width: 80%; height: 15px; background: #B8860B; border-radius: 4px; }
.chest.open { transform: rotateX(45deg); }
.light-beam { position: absolute; top: 50%; left: 50%; width: 300px; height: 400px; background: radial-gradient(circle, rgba(255, 255, 224, 0.7) 0%, rgba(255, 255, 224, 0) 70%); transform: translate(-50%, -100%) scaleY(0); transform-origin: bottom center; opacity: 0; transition: transform 1s 0.5s ease-out, opacity 1s 0.5s ease-out; z-index: -1;}
.chest.open + .light-beam { transform: translate(-50%, -100%) scaleY(1); opacity: 1; }
#toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 8px 16px; border-radius: 6px; z-index: 2000; opacity: 0; transition: opacity 0.3s; font-size: 0.9em; }
.modal-content p { font-size: 1em; }
.modal-content h2 { font-size: 1.3em; color: var(--primary-color); }
.copy-code { color: #FF1493; text-decoration: underline; cursor: pointer; font-weight: bold; background: #eee; padding: 3px; border-radius: 3px; font-size: 0.8em; }
#pass-input2 { width: 70%; padding: 6px; margin-top: 8px; border-radius: 4px; border: 1px solid #ccc; font-size: 0.9em; }
#submit-pass2 { margin-top: 8px; padding: 8px 16px; font-size: 0.9em; }
#notify-pop .modal-content { cursor: pointer; }
#notify-continue-pop .modal-content { font-size: 1em; }
#notify-continue-pop .modal-content button { margin-top: 10px; }
#profile-pop img.profile-avatar { width: 80px; height: 80px; border-radius: 50%; margin: 0 auto 15px auto; border: 3px solid var(--primary-color); }
#end-gift-pop .modal-content { font-size: 1.2em; }
#end-gift-pop .modal-content h2 { font-size: 1.5em; color: var(--primary-color); margin-bottom: 10px; }
@media (min-width: 769px) {
body { padding: 0; }
.heart-lock { width: 500px; height: 450px; margin: 0 auto; }
.digits { gap: 15px; }
.digit { width: 40px; height: 50px; font-size: 24px; margin: 5px 0; }
.arrow-btn { padding: 5px; font-size: 20px; }
#hint { font-size: 16px; }
.welcome-text { font-size: 2.5em; }
.welcome-text p { font-size: 0.5em; }
#energy-bar { top: 20px; right: 20px; width: 150px; height: 15px; border-radius: 10px; }
#avatar-container { top: 20px; left: 20px; }
#avatar { width: 50px; height: 50px; border: 3px solid var(--secondary-color); }
.arrow-hint { top: 5px; left: 60px; padding: 5px 10px; border-radius: 10px; font-size: 1em; }
#tram1 { max-width: 600px; }
#announce { font-size: 2.5em; }
.newspaper { width: 250px; padding: 10px; }
#main-tram1 img { margin-bottom: 15px; }
.like-container { font-size: 1.2em; }
#like-count { font-size: 1.5em; }
.flying-heart { font-size: 24px; }
#memories { max-width: 1000px; }
.cat { font-size: 3em; margin-bottom: 20px; }
.clouds { flex-direction: row; flex-wrap: nowrap; justify-content: space-around; gap: 20px; height: 60vh; align-items: stretch; }
.cloud { position: absolute !important; width: 200px; aspect-ratio: auto; animation-duration: 8s; }
.cloud:hover { transform: scale(1.1) translateY(-10px); }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
.cloud.c1 { top: 10%; left: 10%; animation-delay: -2s; } .cloud.c2 { top: 40%; left: 25%; animation-delay: -4s; } .cloud.c3 { top: 20%; left: 60%; animation-delay: 0s; } .cloud.c4 { top: 50%; left: 75%; animation-delay: -6s; }
#photo-viewer .modal-content { padding: 25px 30px; }
#photo-viewer img { max-width: 90%; max-height: 80vh; border-radius: 10px; }
#tram4 { max-width: 600px; }
#game-canvas { border: 3px solid var(--primary-color); border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); aspect-ratio: 500 / 400; }
#game-info { font-size: 1.2em; margin-bottom: 10px; }
#summon-assistant-btn { margin-top: 15px; padding: 12px 24px; font-size: 1em; }
#open-gift { margin-top: 15px; padding: 12px 24px; font-size: 1em; }
.dim-overlay { background: rgba(0,0,0,0.8); }
#phase3 { max-width: 600px; }
.chest-container { perspective: 1000px; margin-bottom: 30px; }
.chest { width: 200px; height: 160px; border-radius: 10px; }
.chest:before { top: -10px; height: 20px; border-radius: 5px; }
#toast { bottom: 30px; padding: 10px 20px; border-radius: 8px; font-size: 1em; }
.modal-content p { font-size: 1.2em; }
.modal-content h2 { font-size: 1.5em; }
.copy-code { padding: 5px; border-radius: 5px; font-size: 1em; }
#pass-input2 { width: 80%; padding: 8px; margin-top: 10px; border-radius: 5px; font-size: 1em; }
#submit-pass2 { margin-top: 10px; padding: 10px 20px; font-size: 1em; }
.fan-comment { font-size: 1em; }
}
</style>
</head>
<body>
<div id="lock-screen">
    <div class="heart-lock">
        <svg class="heart" viewBox="0 0 100 95"><path d="M 10,30 A 20,20 0,0,1 50,30 A 20,20 0,0,1 90,30 Q 90,60 50,90 Q 10,60 10,30 z" /></svg>
        <div class="digits"></div>
    </div>
    <div id="hint">Gợi ý</div>
</div>

<div id="welcome" class="hidden">
    <h1 class="welcome-text">
        Đây là món quà do ducanhlesiucapcutis1zutru✨ dành tặng cho bạn 😇😇😇
        <p>Sinh nhật zui zẻ nhé 🎉🎉🎉</p>
    </h1>
</div>

<div id="newspaper-wall" class="hidden">
    <h2>Báo chí đưa tin rầm rộ!</h2>
    <p>Một hiện tượng mới sắp được công bố...</p>
    <button id="view-main-news">Xem tin chính</button>
</div>

<div id="tram1" class="hidden">
    <div id="announce-container">
         <div id="announce" class="hidden">BTS chính thức công bố thành viên thứ 8!</div>
    </div>
    <div class="newspapers hidden"></div>
    <div id="main-tram1" class="hidden">
         <div id="main-tram1-content">
            <img src="images/bts_lineup.png" alt="BTS Lineup">
            <div id="comment-overlay"></div>
        </div>
        <audio id="music-player" controls loop><source src="images/BTS_Dynamite_Official_MV_(getmp3.pro).mp3" type="audio/mpeg"></audio>
        <div class="like-container">
            <div id="like-count">0 thả tim</div>
        </div>
        <button id="next2" style="margin-top: 15px;">Tiếp tục hành trình</button>
    </div>
</div>

<div id="tram2" class="hidden">
    <div id="memories">
        <div class="cat">🐱 Our Memories 🐱</div>
        <div class="clouds">
            <div class="cloud c1" data-photo="images/hugging.jpg"></div>
            <div class="cloud c2" data-photo="images/classroom1.jpg"></div>
            <div class="cloud c3" data-photo="images/classroom2.jpg"></div>
            <div class="cloud c4" data-photo="images/walking.jpg"></div>
        </div>
    </div>
</div>

<div id="tram4" class="hidden">
    <div class="dim-overlay"></div>
    <div id="game-section" class="hidden">
        <h2 style="color: white;">Nạp Năng Lượng!</h2>
        <div id="game-info">Điểm: <span id="score-display">0</span></div>
        <canvas id="game-canvas"></canvas>
        <button id="summon-assistant-btn" class="hidden">Triệu hồi trợ thủ 🐟</button>
        <button id="open-gift" class="hidden">MỞ QUÀ</button>
    </div>
</div>

<div id="phase3" class="hidden">
    <div id="treasure">
        <div class="chest-container">
            <div class="chest"></div>
            <div class="light-beam"></div>
        </div>
    </div>
</div>

<div id="energy-bar" class="hidden"><div class="bar"></div></div>
<div id="avatar-container" class="hidden"><div id="avatar"></div><div class="arrow-hint">Ấn vào để xem hồ sơ của bạn</div></div>
<div id="toast"></div>

<div id="hint-pop" class="modal"><div class="modal-content"><p>Nếu bạn chưa biết mật khẩu thì hãy xem lại thiệp nhó =))</p><button onclick="closeModal('hint-pop')">Đã hiểu</button></div></div>
<div id="assistant-pop" class="modal"><div class="modal-content"><h2>Phần Quà Đầu Tiên: Trợ Thủ 🐟</h2><p>"Đanh lê siu cấp cuti s1zt" đã sẵn sàng! Bạn có thể triệu hồi trợ thủ này khi thực sự cần thiết.</p><button onclick="closeModal('assistant-pop', () => showModal('ticket-pop'))">OK</button></div></div>
<div id="ticket-pop" class="modal"><div class="modal-content"><h2>Phần Thưởng Khởi Đầu</h2><img src="images/phieu_be_ngoan.jpg" alt="Phiếu bé ngoan" style="width:100%;"><button onclick="closeModal('ticket-pop', startWelcome)">Bắt đầu hành trình!</button></div></div>
<div id="profile-pop" class="modal"><div class="modal-content">
    <h2>Hồ Sơ Của Bạn</h2>
    <img src="images/anh_dai_dien.jpg" alt="Avatar" class="profile-avatar">
    <p><b>Tên gem thủ:</b> Nguyễn Đình Dương</p>
    <p><b>Rank:</b> Siucapgalangđepzai=))))</p>
    <button id="next1">Ấn để xem tiếp</button>
</div></div>
<div id="notify-pop" class="modal"><div class="modal-content" style="cursor: pointer;"><p>🔔 Bạn có thông báo mới, hãy ấn vào để xem!</p></div></div>
<div id="question-pop" class="modal"><div class="modal-content"><p>Trả lời câu hỏi để tiếp tục =))):<br>Bạn có thấy cảm động rớt nước mắt 😢😢😢 với món quà này ko?</p><button id="coa" style="font-size: 20px; padding: 12px 24px; margin: 5px;">cóa</button><button id="hem" style="position: relative; margin: 5px;">hem</button></div></div>
<div id="coa-response-pop" class="modal"><div class="modal-content">
    <p style="font-size: 1.5em; font-family: 'Pacifico', cursive; color: var(--primary-color);">weo chọn cóa lun hẻ, trời oie đáng iu z 😍😍😍</p>
    <button id="continue-to-tram2">Hihi ngại quá</button>
</div></div>
<div id="photo-viewer" class="modal"><div class="modal-content"><img id="memory-photo" src="" style="max-width:95%; border-radius: 8px;"><button style="margin-top: 10px;" onclick="closeModal('photo-viewer')">Đóng</button></div></div>
<div id="memories-pop" class="modal"><div class="modal-content"><p>t ít ảnh chụp chung vs m vl tìm mãi ms tìm đc ó, nên biết trân trọng t ik =))</p><button onclick="closeModal('memories-pop', () => showModal('notify-continue-pop'))">Okieee</button></div></div>
<div id="recharge-pop" class="modal"><div class="modal-content"><p>Năng lượng sắp cạn kiệt!</p><button id="nap">Nạp năng lượng</button></div></div>
<div id="game-rules-pop" class="modal"><div class="modal-content"><h2>Luật Chơi</h2><p>Di chuyển chuột hoặc ngón tay để điều khiển 😇.</p><p>Ăn 🍦🍰 (+5đ), 🎂 (+10đ).</p><p>Tránh 💣 (-3đ)!</p><button onclick="closeModal('game-rules-pop', initGame)">Bắt đầu!</button></div></div>
<div id="assistant-needed-pop" class="modal"><div class="modal-content"><p>Tình hình khó khăn quá! Có lẽ bạn cần sử dụng trợ thủ đó!</p><button onclick="closeModal('assistant-needed-pop')">OK!</button></div></div>
<div id="phase3-pass-pop" class="modal"><div class="modal-content"><p>Để mở kho báu, hãy gửi cú pháp này cho <b>ducanhlesiucapcutis1zutru</b> qua mess để nhận mật khẩu nhé hehehe:</p><p><span class="copy-code" onclick="copyCode(this)">toilanguyendinhduongtoixinhuasaunaysebaonuoiducanhlesiucapcutis1zutru✨</span></p><input id="pass-input2" type="text" placeholder="Nhập mật khẩu"><button id="submit-pass2">Mở Khóa</button></div></div>
<div id="notify-continue-pop" class="modal"><div class

